---
/**
 * ProcessTimeline — Section 04 (Processus stratégique)
 * Layout éditorial luxe : grille 2×2 desktop, numéros Playfair,
 * séparateurs dorés, sans icônes techniques
 */
import Section from '@components/ui/Section.astro';
import Container from '@components/ui/Container.astro';
import TextMorph from '@components/react/TextMorph';
import { t, tArray, type Locale } from '@i18n/index';

interface Props { lang?: Locale; }
const lang = Astro.props.lang ?? 'fr';

const steps = [
  { number: '01', title: t('processus', 'step1Title', lang), description: t('processus', 'step1Desc', lang) },
  { number: '02', title: t('processus', 'step2Title', lang), description: t('processus', 'step2Desc', lang) },
  { number: '03', title: t('processus', 'step3Title', lang), description: t('processus', 'step3Desc', lang) },
  { number: '04', title: t('processus', 'step4Title', lang), description: t('processus', 'step4Desc', lang) },
];
---

<Section background="warm" padding="lg">
  <Container>

    {/* En-tête */}
    <div class="relative mb-20 md:mb-32" data-reveal>
      <span class="section-number-xl">04</span>
      <span class="section-number">{t('processus', 'number', lang)}</span>
      <h2 class="text-section text-primary-dark mt-6">
        <span class="font-display font-normal uppercase">{t('processus', 'title', lang)}</span> <TextMorph client:visible words={tArray('processus', 'morphWords', lang)} className="font-heading font-extralight uppercase" />
      </h2>
      <p class="font-body text-lg font-light text-[var(--color-text-light)] mt-4 max-w-xl leading-[1.8]">
        {t('processus', 'subtitle', lang)}
      </p>
    </div>

    {/* Grille 2×2 desktop — éditorial luxe */}
    <div class="hidden md:grid grid-cols-2 gap-0 border border-accent-gold/10" data-reveal-stagger="0.12">
      {steps.map((step, i) => (
        <div
          class:list={[
            'relative p-10 lg:p-14',
            i === 0 ? 'border-r border-b border-accent-gold/10' : '',
            i === 1 ? 'border-b border-accent-gold/10' : '',
            i === 2 ? 'border-r border-accent-gold/10' : '',
          ]}
          data-reveal-child
        >
          {/* Grand numéro Playfair — ancrage visuel */}
          <span class="font-display text-[72px] lg:text-[88px] font-light text-accent-gold/15 leading-none block mb-6 select-none">
            {step.number}
          </span>

          {/* Ligne dorée */}
          <div class="w-10 h-px bg-accent-gold/40 mb-6" />

          {/* Titre */}
          <h3 class="font-display text-xl lg:text-2xl font-medium uppercase text-primary-dark mb-4 leading-[1.2]">
            {step.title}
          </h3>

          {/* Description */}
          <p class="font-body text-sm font-light text-text-secondary leading-[1.8] max-w-sm">
            {step.description}
          </p>
        </div>
      ))}
    </div>

    {/* Mobile — empilé élégant */}
    <div class="md:hidden space-y-0" data-reveal-stagger="0.12">
      {steps.map((step, i) => (
        <div
          class:list={[
            'py-10',
            i < steps.length - 1 ? 'border-b border-accent-gold/15' : '',
          ]}
          data-reveal-child
        >
          <div class="flex items-start gap-6">
            <span class="font-display text-[48px] font-light text-accent-gold/20 leading-none shrink-0 select-none">
              {step.number}
            </span>
            <div class="pt-2">
              <h3 class="font-display text-lg font-medium uppercase text-primary-dark mb-2 leading-[1.2]">
                {step.title}
              </h3>
              <p class="font-body text-sm font-light text-text-secondary leading-[1.8]">
                {step.description}
              </p>
            </div>
          </div>
        </div>
      ))}
    </div>

  </Container>
</Section>
