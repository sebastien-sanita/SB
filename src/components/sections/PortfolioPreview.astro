---
/**
 * PortfolioPreview — Section 03 (Editorial Luxe)
 * Grille bento asymetrique, hover overlay RS.D-style (nom centre),
 * numerotation Aker, CTA pill
 */
import Section from '@components/ui/Section.astro';
import Container from '@components/ui/Container.astro';
import Button from '@components/ui/Button.astro';

const projects = [
  {
    title: 'Canopee',
    category: 'Appartement',
    image: '/images/projets/projeta-proja1.jpg',
    slug: '/projets/canopee',
    gridClass: 'md:col-span-2 md:row-span-2',
  },
  {
    title: 'Villa Paradise',
    category: 'Maison',
    image: '/images/projets/projetc-projc1.jpg',
    slug: '/projets/villa-paradise',
    gridClass: 'md:col-span-2',
  },
  {
    title: 'Amani',
    category: 'Appartement',
    image: '/images/projets/RSD-Agencements-Architecte-interieur-Lyon-15.jpg',
    slug: '/projets/amani',
    gridClass: '',
  },
  {
    title: 'Lumiere',
    category: 'Appartement',
    image: '/images/projets/Architecture-interieure-appartement-haut-de-gamme-Lyon-8.jpg',
    slug: '/projets/lumiere',
    gridClass: '',
  },
  {
    title: "Tete d'Or",
    category: 'Appartement',
    image: '/images/projets/Archi-interieure-renovation-appartement-Tete-d-Or-Lyon.jpg',
    slug: '/projets/tete-dor',
    gridClass: 'md:col-span-2',
  },
  {
    title: 'Garconniere Edgar',
    category: 'Appartement',
    image: '/images/projets/Renovation-appartement-Haussmannien-Lyon-06.jpg',
    slug: '/projets/garconniere-edgar',
    gridClass: 'md:col-span-2',
  },
];
---

<Section background="warm" padding="lg">
  <Container>

    {/* En-tete Aker */}
    <div class="relative mb-16 md:mb-20" data-reveal>
      <span class="section-number-xl">03</span>
      <span class="section-number">03</span>
      <h2 class="text-section text-primary-dark mt-6">
        <span class="font-heading font-light">Nos</span> <span class="font-display italic font-normal">Realisations</span>
      </h2>
      <p class="font-body text-lg font-light text-[var(--color-text-light)] mt-4 max-w-xl">
        Decouvrez une selection de nos projets les plus emblematiques
      </p>
    </div>

    {/* Grille bento asymetrique */}
    <div class="-mx-6 md:-mx-10 grid grid-cols-1 md:grid-cols-4 md:grid-rows-[420px_420px_380px] gap-2 md:gap-3" data-mosaic>
      {projects.map((project) => (
        <a
          href={project.slug}
          data-mosaic-item
          class:list={[
            'group relative overflow-hidden cursor-pointer block',
            project.gridClass,
          ]}
        >
          {/* Image avec zoom au hover */}
          <img
            src={project.image}
            alt={project.title}
            class="w-full h-full object-cover transition-transform duration-700 ease-smooth group-hover:scale-[1.08]"
            loading="lazy"
          />

          {/* Gradient subtil permanent → overlay au hover */}
          <div class="absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent group-hover:from-black/70 group-hover:via-black/50 group-hover:to-black/40 transition-all duration-700 ease-smooth" />

          {/* Hover overlay RS.D-style : nom + categorie centres */}
          <div class="absolute inset-0 flex flex-col items-center justify-center text-center opacity-0 group-hover:opacity-100 transition-all duration-500 ease-smooth p-6">
            <span class="text-[11px] font-heading font-medium text-accent-gold uppercase tracking-[0.2em] mb-3 translate-y-4 group-hover:translate-y-0 transition-transform duration-500 delay-150">
              {project.category}
            </span>
            <h3 class="font-display text-2xl md:text-3xl font-normal text-white translate-y-3 group-hover:translate-y-0 transition-transform duration-500 delay-75">
              {project.title}
            </h3>
          </div>

          {/* Label categorie visible par defaut (disparait au hover) */}
          <div class="absolute bottom-0 left-0 right-0 p-5 group-hover:opacity-0 transition-opacity duration-300">
            <span class="text-xs font-heading font-medium text-white/80 uppercase tracking-[0.12em]">
              {project.category}
            </span>
          </div>
        </a>
      ))}
    </div>

    {/* CTA */}
    <div class="text-center mt-16 md:mt-20">
      <Button href="/projets" variant="outline" size="lg">
        Voir tous nos projets
      </Button>
    </div>

  </Container>
</Section>
