---
/**
 * Page d'accueil — SB Design Riviera (FR)
 * 9 sections : Hero, Manifeste, Services, Portfolio, Processus, Métriques, Pour Qui, Témoignages, CTA
 * Structure alignée sur le positionnement "Luxury Transformation"
 */
import Layout from '@layouts/Layout.astro';
import Section from '@components/ui/Section.astro';
import Container from '@components/ui/Container.astro';
import Button from '@components/ui/Button.astro';

/* Composants React (interactifs) */
import HeroMinimal from '@components/react/HeroMinimal';
import StatsCounter from '@components/react/StatsCounter';
import TestimonialsSlider from '@components/react/TestimonialsSlider';
import TextMorph from '@components/react/TextMorph';

/* Sections Astro */
import Manifeste from '@components/sections/Manifeste.astro';
import WhatWeDo from '@components/sections/WhatWeDo.astro';
import PortfolioPreview from '@components/sections/PortfolioPreview.astro';
import ProcessTimeline from '@components/sections/ProcessTimeline.astro';
import WhoWeServe from '@components/sections/WhoWeServe.astro';
import FeaturedProjects from '@components/sections/FeaturedProjects.astro';
import Marquee from '@components/sections/Marquee.astro';

/* i18n */
import { t, tArray, getLocalizedPath } from '@i18n/index';
import type { Locale } from '@i18n/languages';

const lang: Locale = 'fr';
---

<Layout
  lang={lang}
  title="SB Design Riviera — Luxury Transformation | Cote d'Azur"
  description="SB Design Riviera, cabinet d'architecture specialise dans la conception et la valorisation de residences secondaires haut de gamme sur la Cote d'Azur. Design, renovation et property enhancement."
>

  <!-- HERO : Cinématique 100vh -->
  <HeroMinimal lang={lang} client:load />

  <!-- SECTION 01 : Manifeste / Vision -->
  <Manifeste lang={lang} />

  <!-- SHOWCASE : Réalisations phares -->
  <FeaturedProjects lang={lang} />

  <!-- Bande visuelle — Rénovation & Construction (style antoniolupi) -->
  <div class="space-y-0">
    <a href={getLocalizedPath('/projets', lang) + '?type=renovation'} class="group grid grid-cols-1 md:grid-cols-[1fr_1.6fr] gap-0 h-[260px] md:h-[300px]">
      <div class="flex flex-col justify-end p-8 md:p-10 lg:p-12 bg-[var(--color-warm)]">
        <div class="w-8 h-px bg-accent-gold/40 mb-4" />
        <h3 class="font-display text-[clamp(22px,3.5vw,40px)] font-bold uppercase text-primary-dark leading-[1.1] mb-2">
          {t('manifeste', 'imgLabel1', lang)}
        </h3>
        <p class="font-body text-[13px] font-light text-primary-dark/40 leading-relaxed mb-4 max-w-xs">
          {t('manifeste', 'imgDesc1', lang)}
        </p>
        <span class="inline-flex items-center gap-2 font-heading text-[10px] font-medium text-accent-gold uppercase tracking-[0.15em] group-hover:gap-3 transition-all duration-500">
          {t('manifeste', 'imgDiscover', lang)}
          <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" /></svg>
        </span>
      </div>
      <div class="relative overflow-hidden">
        <img src="/images/expertise/luxury-entrance-hall.jpg" alt={t('manifeste', 'imgLabel1', lang)} class="w-full h-full object-cover transition-transform duration-[1.5s] ease-smooth group-hover:scale-[1.05]" loading="lazy" />
      </div>
    </a>
    <a href={getLocalizedPath('/projets', lang) + '?type=construction'} class="group grid grid-cols-1 md:grid-cols-[1.6fr_1fr] gap-0 h-[260px] md:h-[300px]">
      <div class="relative overflow-hidden order-2 md:order-1">
        <img src="/images/expertise/villa-garden-pool.jpg" alt={t('manifeste', 'imgLabel2', lang)} class="w-full h-full object-cover transition-transform duration-[1.5s] ease-smooth group-hover:scale-[1.05]" loading="lazy" />
      </div>
      <div class="flex flex-col justify-end p-8 md:p-10 lg:p-12 bg-[var(--color-warm)] order-1 md:order-2">
        <div class="w-8 h-px bg-accent-gold/40 mb-4" />
        <h3 class="font-display text-[clamp(22px,3.5vw,40px)] font-bold uppercase text-primary-dark leading-[1.1] mb-2">
          {t('manifeste', 'imgLabel2', lang)}
        </h3>
        <p class="font-body text-[13px] font-light text-primary-dark/40 leading-relaxed mb-4 max-w-xs">
          {t('manifeste', 'imgDesc2', lang)}
        </p>
        <span class="inline-flex items-center gap-2 font-heading text-[10px] font-medium text-accent-gold uppercase tracking-[0.15em] group-hover:gap-3 transition-all duration-500">
          {t('manifeste', 'imgDiscover', lang)}
          <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" /></svg>
        </span>
      </div>
    </a>
  </div>

  <!-- SECTION 02 : Ce que nous faisons (3 services) -->
  <WhatWeDo lang={lang} />

  <!-- SECTION 03 : Portfolio -->
  <PortfolioPreview lang={lang} />

  <!-- Marquee editorial -->
  <Marquee lang={lang} />

  <!-- SECTION 04 : Processus -->
  <ProcessTimeline lang={lang} />

  <!-- Bande image full-bleed — transition visuelle processus → métriques -->
  <div class="group relative w-full h-[45vh] min-h-[300px] lg:h-[55vh] overflow-hidden" data-slide-in="bottom">
    <img
      src="/images/expertise/villa-riviera-aerial.jpg"
      alt=""
      class="w-full h-full object-cover transition-transform duration-[1.2s] ease-smooth group-hover:scale-[1.05]"
      data-parallax="0.12"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-black/10 group-hover:bg-black/5 transition-colors duration-700" />
  </div>

  <!-- SECTION 05 : Chiffres clés animés -->
  <Section background="warm" padding="lg">
    <Container>
      <div class="relative mb-16 md:mb-24" data-reveal>
        <span class="section-number-xl">05</span>
        <span class="section-number">{t('stats', 'number', lang)}</span>
        <h2 class="editorial-breadcrumb font-display text-section uppercase text-primary-dark mt-6 cursor-default">
          <span class="editorial-nav-item font-light text-primary-dark/10">{t('stats', 'title', lang)}</span>
          <span class="font-display font-extralight text-primary-dark/15 mx-1 select-none">/</span>
          <TextMorph client:visible words={tArray('stats', 'morphWords', lang)} className="editorial-nav-item font-display font-bold uppercase text-primary-dark" />
        </h2>
      </div>
      <StatsCounter lang={lang} client:visible />
    </Container>
  </Section>

  <!-- SECTION 06 : Pour Qui ? — DIFFÉRENCIATEUR -->
  <WhoWeServe lang={lang} />

  <!-- SECTION 07 : Témoignages -->
  <Section padding="lg">
    <Container>
      <div class="relative mb-16 md:mb-24" data-reveal>
        <span class="section-number-xl">07</span>
        <span class="section-number">{t('temoignages', 'number', lang)}</span>
        <h2 class="editorial-breadcrumb font-display text-section uppercase text-primary-dark mt-6 cursor-default">
          <span class="editorial-nav-item font-light text-primary-dark/10">{t('temoignages', 'title1', lang)}</span>
          <span class="font-extralight text-primary-dark/15 mx-1 select-none">/</span>
          <TextMorph client:visible words={tArray('temoignages', 'morphWords', lang)} className="editorial-nav-item font-display font-bold uppercase text-primary-dark" />
        </h2>
        <p class="font-body text-lg font-light text-[var(--color-text-light)] mt-4 max-w-xl">
          {t('temoignages', 'subtitle', lang)}
        </p>
      </div>
      <TestimonialsSlider client:visible />
    </Container>
  </Section>

  <!-- SECTION 08 : CTA Final -->
  <section class="relative py-28 md:py-50 overflow-hidden">
    <div class="absolute inset-0">
      <img
        src="/images/expertise/terrace-sunset-riviera.jpg"
        alt="Villa d'exception Côte d'Azur"
        class="w-full h-full object-cover"
        loading="lazy"
      />
      <div class="absolute inset-0 bg-gradient-to-b from-black/40 via-black/55 to-black/70" />
    </div>

    <Container>
      <div class="relative z-10 text-center max-w-3xl mx-auto" data-reveal>
        <span class="font-heading text-xs font-semibold text-accent-gold uppercase tracking-[0.2em] mb-6 block">
          {t('cta', 'label', lang)}
        </span>
        <h2 class="font-display text-[clamp(40px,7vw,80px)] font-bold uppercase text-white leading-[1.1] mb-6" set:html={t('cta', 'title', lang).replace('\n', '<br />')} />
        <p class="font-body text-lg font-light text-white/70 mb-12 max-w-xl mx-auto leading-[1.8]">
          {t('cta', 'subtitle', lang)}
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <Button href={getLocalizedPath('/contact', lang)} variant="primary" size="lg">
            {t('cta', 'primary', lang)}
          </Button>
          <a
            href={getLocalizedPath('/projets', lang)}
            class="inline-flex items-center justify-center px-8 py-4 border border-white/30 text-white font-heading text-[15px] font-medium uppercase tracking-wider rounded-pill hover:bg-white/10 transition-all duration-base"
          >
            {t('cta', 'secondary', lang)}
          </a>
        </div>
      </div>
    </Container>
  </section>

</Layout>
