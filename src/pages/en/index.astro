---
/**
 * Homepage — SB Design Riviera (EN)
 */
import Layout from '@layouts/Layout.astro';
import Section from '@components/ui/Section.astro';
import Container from '@components/ui/Container.astro';
import Button from '@components/ui/Button.astro';

import HeroMinimal from '@components/react/HeroMinimal';
import StatsCounter from '@components/react/StatsCounter';
import TestimonialsSlider from '@components/react/TestimonialsSlider';
import TextMorph from '@components/react/TextMorph';

import Manifeste from '@components/sections/Manifeste.astro';
import WhatWeDo from '@components/sections/WhatWeDo.astro';
import PortfolioPreview from '@components/sections/PortfolioPreview.astro';
import ProcessTimeline from '@components/sections/ProcessTimeline.astro';
import WhoWeServe from '@components/sections/WhoWeServe.astro';
import FeaturedProjects from '@components/sections/FeaturedProjects.astro';
import Marquee from '@components/sections/Marquee.astro';

import { t, tArray, getLocalizedPath } from '@i18n/index';
import type { Locale } from '@i18n/languages';

const lang: Locale = 'en';
---

<Layout
  lang={lang}
  title="SB Design Riviera — Luxury Transformation | French Riviera"
  description="SB Design Riviera, architectural studio specialising in the design and enhancement of high-end secondary residences on the French Riviera. Design, renovation and property enhancement."
>

  <HeroMinimal lang={lang} client:load />
  <Manifeste lang={lang} />
  <FeaturedProjects lang={lang} />

  <!-- Visual band — Renovation & Construction -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-0">
    <a href={getLocalizedPath('/projets', lang) + '?type=renovation'} class="group relative block h-[35vh] min-h-[260px] lg:h-[45vh] overflow-hidden">
      <img src="/images/expertise/luxury-entrance-hall.jpg" alt={t('manifeste', 'imgLabel1', lang)} class="w-full h-full object-cover transition-transform duration-[1.5s] ease-smooth group-hover:scale-[1.05]" loading="lazy" />
      <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent group-hover:from-black/70 transition-all duration-500" />
      <div class="absolute bottom-0 left-0 right-0 p-8 md:p-10">
        <span class="font-heading text-[11px] font-medium text-accent-gold uppercase tracking-[0.2em] mb-2 block">{t('manifeste', 'imgDiscover', lang)}</span>
        <h3 class="font-display text-2xl md:text-4xl font-bold uppercase text-white">{t('manifeste', 'imgLabel1', lang)}</h3>
      </div>
    </a>
    <a href={getLocalizedPath('/projets', lang) + '?type=construction'} class="group relative block h-[35vh] min-h-[260px] lg:h-[45vh] overflow-hidden">
      <img src="/images/expertise/villa-garden-pool.jpg" alt={t('manifeste', 'imgLabel2', lang)} class="w-full h-full object-cover transition-transform duration-[1.5s] ease-smooth group-hover:scale-[1.05]" loading="lazy" />
      <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent group-hover:from-black/70 transition-all duration-500" />
      <div class="absolute bottom-0 left-0 right-0 p-8 md:p-10">
        <span class="font-heading text-[11px] font-medium text-accent-gold uppercase tracking-[0.2em] mb-2 block">{t('manifeste', 'imgDiscover', lang)}</span>
        <h3 class="font-display text-2xl md:text-4xl font-bold uppercase text-white">{t('manifeste', 'imgLabel2', lang)}</h3>
      </div>
    </a>
  </div>

  <WhatWeDo lang={lang} />

  <PortfolioPreview lang={lang} />
  <Marquee lang={lang} />
  <ProcessTimeline lang={lang} />

  <!-- Full-bleed image band — visual transition process → metrics -->
  <div class="group relative w-full h-[45vh] min-h-[300px] lg:h-[55vh] overflow-hidden" data-slide-in="bottom">
    <img
      src="/images/expertise/villa-riviera-aerial.jpg"
      alt=""
      class="w-full h-full object-cover transition-transform duration-[1.2s] ease-smooth group-hover:scale-[1.05]"
      data-parallax="0.12"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-black/10 group-hover:bg-black/5 transition-colors duration-700" />
  </div>

  <Section background="warm" padding="lg">
    <Container>
      <div class="relative mb-16 md:mb-24" data-reveal>
        <span class="section-number-xl">05</span>
        <span class="section-number">{t('stats', 'number', lang)}</span>
        <h2 class="font-heading text-section font-extralight text-primary-dark mt-6">
          {t('stats', 'title', lang)} <TextMorph client:visible words={tArray('stats', 'morphWords', lang)} className="font-heading font-extralight" />
        </h2>
      </div>
      <StatsCounter lang={lang} client:visible />
    </Container>
  </Section>

  <WhoWeServe lang={lang} />

  <Section padding="lg">
    <Container>
      <div class="relative mb-16 md:mb-24" data-reveal>
        <span class="section-number-xl">07</span>
        <span class="section-number">{t('temoignages', 'number', lang)}</span>
        <h2 class="font-display text-section uppercase text-primary-dark mt-6">
          <span class="font-light text-primary-dark/40">{t('temoignages', 'title1', lang)}</span> <TextMorph client:visible words={tArray('temoignages', 'morphWords', lang)} className="font-display font-bold uppercase" />
        </h2>
        <p class="font-body text-lg font-light text-[var(--color-text-light)] mt-4 max-w-xl">
          {t('temoignages', 'subtitle', lang)}
        </p>
      </div>
      <TestimonialsSlider client:visible />
    </Container>
  </Section>

  <section class="relative py-28 md:py-50 overflow-hidden">
    <div class="absolute inset-0">
      <img
        src="/images/expertise/terrace-sunset-riviera.jpg"
        alt="Exceptional villa, French Riviera"
        class="w-full h-full object-cover"
        loading="lazy"
      />
      <div class="absolute inset-0 bg-gradient-to-b from-black/40 via-black/55 to-black/70" />
    </div>

    <Container>
      <div class="relative z-10 text-center max-w-3xl mx-auto" data-reveal>
        <span class="font-heading text-xs font-semibold text-accent-gold uppercase tracking-[0.2em] mb-6 block">
          {t('cta', 'label', lang)}
        </span>
        <h2 class="font-display text-[clamp(40px,7vw,80px)] font-bold uppercase text-white leading-[1.1] mb-6" set:html={t('cta', 'title', lang).replace('\n', '<br />')} />
        <p class="font-body text-lg font-light text-white/70 mb-12 max-w-xl mx-auto leading-[1.8]">
          {t('cta', 'subtitle', lang)}
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <Button href={getLocalizedPath('/contact', lang)} variant="primary" size="lg">
            {t('cta', 'primary', lang)}
          </Button>
          <a
            href={getLocalizedPath('/projets', lang)}
            class="inline-flex items-center justify-center px-8 py-4 border border-white/30 text-white font-heading text-[15px] font-medium uppercase tracking-wider rounded-pill hover:bg-white/10 transition-all duration-base"
          >
            {t('cta', 'secondary', lang)}
          </a>
        </div>
      </div>
    </Container>
  </section>

</Layout>
